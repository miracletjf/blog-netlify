---
title: hexo博客改造
date: 2019-05-07 23:33:46
tags:
  - hexo
categories:
  - [笔记, fff]
  - [测试]
---

最近有机会抽出时间把`hexo`好好改造了一下。（刚开始只是想解决一下，首页文章总是展示全文和设置标签没有出现的bug）

然后就开始动工网上各种查资料，下面把目前实现的功能和改造记录一下，希望可以帮到那些刚接触`hexo`的朋友。

本人用的是`next`主题，所以本文仅针对`next`主题配置。

<!-- more -->

## 外观

解释一下两个基本概念

* `站点配置文件` 指的是`hexo`根目录下的`_config.yml`文件
* `主题配置文件` 指的是主题包文件夹下，在本文也就是`next`文件夹下的`_config.yml`文件

### 设置查看更多

这个是最简单的，简单到很少人提及。默认情况下`next`会把多篇文章顺序列在首页，并且会把所有的内容全部列出，这就导致了首页不够简洁。之前一直受这个问题困扰，但是也没有抽出时间把它彻底解决（每次都到网上随便搜一下，没有找到直接的解决方案就被搁置了）。就在前两天，觉得有必要把自己的博客好好拾掇拾掇了，于是抱着要彻底干掉它的想法，去搜了一下，最终在一个不起眼的地方看到了它。

> 解决方案就是在文章中插入一个像注释一样的标签,标签后的内容将被隐藏，且在首页还会出现一个阅读更多的提示按钮（完美）。

``` html
<!-- more -->
```

### 主题配置

`next`一共提供了四种风格的主题：`Muse`,`Mist`,`Pisce`,`Gemini`。只需要更改`主题配置文件`中的`sheme`字段即可。

> ps: 字段名分号后要接一个空格，再填写值

``` yml
sheme: Gemini
```

### 设置菜单

编辑`主题配置文件`，修改`menu`字段。具体参照以下代码

``` yml
# 需要什么功能，只需要把对应的菜单注释取消掉即可
menu:
  home: /                     # 主页
  archives: /archives         # 归档
  #about: /about              # 关于
  #categories: /categories    # 分类
  tags: /tags                 # 标签
  #commonweal: /404.html      # 404 页面
```

> ps: 配置菜单需要事先配置好功能页，具体功能也配置可以参照下文 分类页和标签页

### 设置头像

编辑`主题配置文件`，修改`avatar`字段，值设置为头像的链接地址即可。

### 作者昵称

编辑`站点配置文件`，设置`author`为你的昵称即可。

### 站点描述

编辑`站点配置文件`，设置`description`字段为你的站点的描述。一句话签名。

## 功能

配置一下常见的功能

### 文章分类

#### 新建分类页

新建一个页面，命名为`categories`。
  
``` bash
hexo new page categories
```

#### 编辑分类页

编辑刚建的页面， 即：`/source/categories/index.md`。在顶上配置项添加`type`字段，值为`categories`

``` md
title: 分类
date: 2014-12-22 12:39:04
type: "categories"
---
```

#### 菜单配置

菜单配置，编辑`主题配置文件`，修改`menu`字段，把`categories`字段取消注释即可。具体操作可以查看上文`设置菜单`条目

#### 页面配置

以上我们只是新建了一个分类页，并没有给具体的页面配置类别。配置类别页，只需要在具体页面顶部配置区域，添加`categories`字段，值为当期页面的分类，例如：`- hexo`。具体参照以下示例

``` md
---
title: hexo主题配置
date: 2018-04-13 20:11:30
categories: 
- hexo
---
```

#### 修改模板

我们在使用`hexo new page`时，其实都是按照一个已经定好的模板去生成的。我们可以修改这个模板，让生成新页面时自动带上`categories`字段。该文件就是`/scaffolds/post.md`，具体可以参考以下代码

``` md
---
title: {{ title }}
date: {{ date }}
categories:
---
```

### 文章标签

文章标签添加方法与分类页一致，只需要把`categories`改为`tags`即可。下面有一个示例可以看一下

``` md
---
title: hexo主题配置
date: 2018-04-13 20:11:30
categories: 
- hexo
tags:
- hexo
- md
---
```

### 百度统计

### 阅读次数（leancloud）

### 搜索（Algolia）

## 升级HTTPS